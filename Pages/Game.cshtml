@page
@model Lost_Videogames.Pages.GameModel
@{
    ViewData["Title"] = "Games";
}

<h1>Games</h1>

<form method="POST">
    <input class="form-control" type="hidden" name="search" value="search" />
    <select class="form-select " id="searchoption" name="searchoption">
        <option value="">Choose search criteria </option>
        <optgroup label="Criteria">
            <option value="g.id_game">Game Id</option>
            <option value="g.id_publisher">Publisher Id</option>
            <option value="p.name">Publisher Name</option>
            <option value="g.name">Name</option>
            <option value="g.genre">Genre</option>
            <option value="g.platform">Platform</option>
            <option value="g.release_year">Release Year</option>
            <option value="g.state">State</option>
        </optgroup>
    </select>
    <p></p>
    <input class="form-control" type="text" id="searchtext" name="searchtext" placeholder="option value" />
    <p></p>
    <input class="btn btn-primary" type="submit" value="Search" />
</form>
<p></p>
<p></p>
<table class="table table-striped table-hover" style="user-select:none">
    <tr tr class="table-primary">
        <th>Game ID</th>
        <th>Publisher ID</th>
        <th>Publisher Name</th>
        <th>Box Art</th>
        <th>Name</th>
        <th>Genre</th>
        <th>Platform</th>
        <th>Release Year</th>
        <th>State</th>
        <th></th>
    </tr>

    @foreach (var item in Model.Games)
    {

        <tr>

            <td>@Html.DisplayFor(modelItem => item.id_game)</td>
            <td>@Html.DisplayFor(modelItem => item.id_publisher)</td>
            <td>@Html.DisplayFor(modelItem => item.publisher_name)</td>
            <td><img src="@item.img_url" style="width:50px;height:50px;object-fit:contain; max-width: 100%; object-position:center" alt="Imagem"></td>
            <td>@Html.DisplayFor(modelItem => item.name)</td>
            <td>@Html.DisplayFor(modelItem => item.genre)</td>
            <td>@Html.DisplayFor(modelItem => item.platform)</td>
            <td>@Html.DisplayFor(modelItem => item.release_year)</td>
            <td>@Html.DisplayFor(modelItem => item.state)</td>
            <td>
                <a class="btn btn-primary" href="/GameUpdate?id_game=@item.id_game">Edit</a>@*Query parameter para pagina Game Update*@
            </td>
        </tr>
    }
</table>

<div>
    <input class="btn btn-primary" type="button" value="Create New" onclick="window.location.href='/GameCreate'" />
</div>
